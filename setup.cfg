[flake8]
max-line-length = 88
max-complexity = 12
ignore = 
    # E203: whitespace before ':'
    E203,
    # E501: line too long (handled by black)
    E501,
    # W503: line break before binary operator
    W503,
    # F401: imported but unused (handled by isort)
    F401,
exclude = 
    .git,
    __pycache__,
    .venv,
    venv,
    .tox,
    .eggs,
    *.egg,
    build,
    dist,
    migrations,
    .mypy_cache,
    .pytest_cache,
    node_modules,
    staticfiles,
    media,
per-file-ignores = 
    __init__.py:F401
    settings/*.py:F401,F403
    */migrations/*.py:E501
    tests/*.py:F401,F403,F405
    test_*.py:F401,F403,F405

[mypy]
python_version = 3.11
check_untyped_defs = true
ignore_missing_imports = true
warn_unused_ignores = true
warn_redundant_casts = true
warn_unused_configs = true
plugins = mypy_django_plugin.main, mypy_drf_plugin.main

[mypy-*.migrations.*]
ignore_errors = true

[mypy-*.settings.*]
ignore_errors = true

[mypy-*.tests.*]
ignore_errors = true

[tool:pytest]
DJANGO_SETTINGS_MODULE = aksio.settings.testing
python_files = tests.py test_*.py *_tests.py
testpaths = tests
addopts = --reuse-db --nomigrations --cov=. --cov-report=term-missing --cov-report=html --cov-report=xml --cov-fail-under=80
markers = 
    slow: marks tests as slow (deselect with '-m "not slow"')
    unit: marks tests as unit tests
    integration: marks tests as integration tests
    functional: marks tests as functional tests